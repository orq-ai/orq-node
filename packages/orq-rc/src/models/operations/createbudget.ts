/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import { ClosedEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { RFCDate } from "../../types/rfcdate.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";

/**
 * Workspace budget type
 */
export const CreateBudgetRequestBodyBudgetsType = {
  Workspace: "workspace",
} as const;
/**
 * Workspace budget type
 */
export type CreateBudgetRequestBodyBudgetsType = ClosedEnum<
  typeof CreateBudgetRequestBodyBudgetsType
>;

/**
 * Budget period type
 */
export const RequestBodyPeriod = {
  Daily: "daily",
  Weekly: "weekly",
  Monthly: "monthly",
  Yearly: "yearly",
} as const;
/**
 * Budget period type
 */
export type RequestBodyPeriod = ClosedEnum<typeof RequestBodyPeriod>;

/**
 * Budget configuration for the entire workspace
 */
export type WorkspaceBudget = {
  /**
   * Workspace budget type
   */
  type: CreateBudgetRequestBodyBudgetsType;
  /**
   * Budget period type
   */
  period: RequestBodyPeriod;
  /**
   * Budget amount in USD for the specified period
   */
  amount: number;
};

/**
 * Contact budget type
 */
export const CreateBudgetRequestBodyType = {
  Contact: "contact",
} as const;
/**
 * Contact budget type
 */
export type CreateBudgetRequestBodyType = ClosedEnum<
  typeof CreateBudgetRequestBodyType
>;

/**
 * Budget period type
 */
export const CreateBudgetRequestBodyPeriod = {
  Daily: "daily",
  Weekly: "weekly",
  Monthly: "monthly",
  Yearly: "yearly",
} as const;
/**
 * Budget period type
 */
export type CreateBudgetRequestBodyPeriod = ClosedEnum<
  typeof CreateBudgetRequestBodyPeriod
>;

/**
 * Budget configuration for a specific contact
 */
export type ContactBudget = {
  /**
   * Contact budget type
   */
  type: CreateBudgetRequestBodyType;
  /**
   * Contact external ID
   */
  entityId: string;
  /**
   * Budget period type
   */
  period: CreateBudgetRequestBodyPeriod;
  /**
   * Budget amount in USD for the specified period
   */
  amount: number;
};

/**
 * Create budget configuration for contact or workspace
 */
export type CreateBudgetRequestBody = ContactBudget | WorkspaceBudget;

/**
 * Budget entity type
 */
export const CreateBudgetType = {
  ApiKey: "api_key",
  Contact: "contact",
  Workspace: "workspace",
} as const;
/**
 * Budget entity type
 */
export type CreateBudgetType = ClosedEnum<typeof CreateBudgetType>;

/**
 * Budget period type
 */
export const CreateBudgetPeriod = {
  Daily: "daily",
  Weekly: "weekly",
  Monthly: "monthly",
  Yearly: "yearly",
} as const;
/**
 * Budget period type
 */
export type CreateBudgetPeriod = ClosedEnum<typeof CreateBudgetPeriod>;

/**
 * Budget configuration
 */
export type CreateBudgetBudget = {
  /**
   * Budget period type
   */
  period: CreateBudgetPeriod;
  /**
   * Budget amount in USD for the specified period
   */
  amount: number;
};

export type Consumption = {
  /**
   * Current period consumption in USD
   */
  currentAmount: number;
  /**
   * Remaining budget (amount - current_amount)
   */
  remainingAmount: number;
  /**
   * When the current period started
   */
  periodStart: RFCDate | null;
  /**
   * When the current period will reset
   */
  periodEnd: RFCDate | null;
};

/**
 * Budget configuration details
 */
export type CreateBudgetResponseBody = {
  /**
   * Unique ULID for the budget configuration
   */
  id: string;
  /**
   * Workspace identifier that owns this budget configuration
   */
  workspaceId: string;
  /**
   * Budget entity type
   */
  type: CreateBudgetType;
  /**
   * Contact external identifier (present when type is "contact")
   */
  contactId?: string | undefined;
  /**
   * Budget configuration
   */
  budget: CreateBudgetBudget;
  /**
   * Whether this budget configuration is currently active
   */
  isActive: boolean;
  consumption?: Consumption | undefined;
  /**
   * The date and time the resource was created
   */
  created?: Date | undefined;
  /**
   * The date and time the resource was last updated
   */
  updated?: Date | undefined;
};

/** @internal */
export const CreateBudgetRequestBodyBudgetsType$inboundSchema: z.ZodNativeEnum<
  typeof CreateBudgetRequestBodyBudgetsType
> = z.nativeEnum(CreateBudgetRequestBodyBudgetsType);

/** @internal */
export const CreateBudgetRequestBodyBudgetsType$outboundSchema: z.ZodNativeEnum<
  typeof CreateBudgetRequestBodyBudgetsType
> = CreateBudgetRequestBodyBudgetsType$inboundSchema;

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace CreateBudgetRequestBodyBudgetsType$ {
  /** @deprecated use `CreateBudgetRequestBodyBudgetsType$inboundSchema` instead. */
  export const inboundSchema = CreateBudgetRequestBodyBudgetsType$inboundSchema;
  /** @deprecated use `CreateBudgetRequestBodyBudgetsType$outboundSchema` instead. */
  export const outboundSchema =
    CreateBudgetRequestBodyBudgetsType$outboundSchema;
}

/** @internal */
export const RequestBodyPeriod$inboundSchema: z.ZodNativeEnum<
  typeof RequestBodyPeriod
> = z.nativeEnum(RequestBodyPeriod);

/** @internal */
export const RequestBodyPeriod$outboundSchema: z.ZodNativeEnum<
  typeof RequestBodyPeriod
> = RequestBodyPeriod$inboundSchema;

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace RequestBodyPeriod$ {
  /** @deprecated use `RequestBodyPeriod$inboundSchema` instead. */
  export const inboundSchema = RequestBodyPeriod$inboundSchema;
  /** @deprecated use `RequestBodyPeriod$outboundSchema` instead. */
  export const outboundSchema = RequestBodyPeriod$outboundSchema;
}

/** @internal */
export const WorkspaceBudget$inboundSchema: z.ZodType<
  WorkspaceBudget,
  z.ZodTypeDef,
  unknown
> = z.object({
  type: CreateBudgetRequestBodyBudgetsType$inboundSchema,
  period: RequestBodyPeriod$inboundSchema,
  amount: z.number(),
});

/** @internal */
export type WorkspaceBudget$Outbound = {
  type: string;
  period: string;
  amount: number;
};

/** @internal */
export const WorkspaceBudget$outboundSchema: z.ZodType<
  WorkspaceBudget$Outbound,
  z.ZodTypeDef,
  WorkspaceBudget
> = z.object({
  type: CreateBudgetRequestBodyBudgetsType$outboundSchema,
  period: RequestBodyPeriod$outboundSchema,
  amount: z.number(),
});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace WorkspaceBudget$ {
  /** @deprecated use `WorkspaceBudget$inboundSchema` instead. */
  export const inboundSchema = WorkspaceBudget$inboundSchema;
  /** @deprecated use `WorkspaceBudget$outboundSchema` instead. */
  export const outboundSchema = WorkspaceBudget$outboundSchema;
  /** @deprecated use `WorkspaceBudget$Outbound` instead. */
  export type Outbound = WorkspaceBudget$Outbound;
}

export function workspaceBudgetToJSON(
  workspaceBudget: WorkspaceBudget,
): string {
  return JSON.stringify(WorkspaceBudget$outboundSchema.parse(workspaceBudget));
}

export function workspaceBudgetFromJSON(
  jsonString: string,
): SafeParseResult<WorkspaceBudget, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => WorkspaceBudget$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'WorkspaceBudget' from JSON`,
  );
}

/** @internal */
export const CreateBudgetRequestBodyType$inboundSchema: z.ZodNativeEnum<
  typeof CreateBudgetRequestBodyType
> = z.nativeEnum(CreateBudgetRequestBodyType);

/** @internal */
export const CreateBudgetRequestBodyType$outboundSchema: z.ZodNativeEnum<
  typeof CreateBudgetRequestBodyType
> = CreateBudgetRequestBodyType$inboundSchema;

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace CreateBudgetRequestBodyType$ {
  /** @deprecated use `CreateBudgetRequestBodyType$inboundSchema` instead. */
  export const inboundSchema = CreateBudgetRequestBodyType$inboundSchema;
  /** @deprecated use `CreateBudgetRequestBodyType$outboundSchema` instead. */
  export const outboundSchema = CreateBudgetRequestBodyType$outboundSchema;
}

/** @internal */
export const CreateBudgetRequestBodyPeriod$inboundSchema: z.ZodNativeEnum<
  typeof CreateBudgetRequestBodyPeriod
> = z.nativeEnum(CreateBudgetRequestBodyPeriod);

/** @internal */
export const CreateBudgetRequestBodyPeriod$outboundSchema: z.ZodNativeEnum<
  typeof CreateBudgetRequestBodyPeriod
> = CreateBudgetRequestBodyPeriod$inboundSchema;

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace CreateBudgetRequestBodyPeriod$ {
  /** @deprecated use `CreateBudgetRequestBodyPeriod$inboundSchema` instead. */
  export const inboundSchema = CreateBudgetRequestBodyPeriod$inboundSchema;
  /** @deprecated use `CreateBudgetRequestBodyPeriod$outboundSchema` instead. */
  export const outboundSchema = CreateBudgetRequestBodyPeriod$outboundSchema;
}

/** @internal */
export const ContactBudget$inboundSchema: z.ZodType<
  ContactBudget,
  z.ZodTypeDef,
  unknown
> = z.object({
  type: CreateBudgetRequestBodyType$inboundSchema,
  entity_id: z.string(),
  period: CreateBudgetRequestBodyPeriod$inboundSchema,
  amount: z.number(),
}).transform((v) => {
  return remap$(v, {
    "entity_id": "entityId",
  });
});

/** @internal */
export type ContactBudget$Outbound = {
  type: string;
  entity_id: string;
  period: string;
  amount: number;
};

/** @internal */
export const ContactBudget$outboundSchema: z.ZodType<
  ContactBudget$Outbound,
  z.ZodTypeDef,
  ContactBudget
> = z.object({
  type: CreateBudgetRequestBodyType$outboundSchema,
  entityId: z.string(),
  period: CreateBudgetRequestBodyPeriod$outboundSchema,
  amount: z.number(),
}).transform((v) => {
  return remap$(v, {
    entityId: "entity_id",
  });
});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace ContactBudget$ {
  /** @deprecated use `ContactBudget$inboundSchema` instead. */
  export const inboundSchema = ContactBudget$inboundSchema;
  /** @deprecated use `ContactBudget$outboundSchema` instead. */
  export const outboundSchema = ContactBudget$outboundSchema;
  /** @deprecated use `ContactBudget$Outbound` instead. */
  export type Outbound = ContactBudget$Outbound;
}

export function contactBudgetToJSON(contactBudget: ContactBudget): string {
  return JSON.stringify(ContactBudget$outboundSchema.parse(contactBudget));
}

export function contactBudgetFromJSON(
  jsonString: string,
): SafeParseResult<ContactBudget, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ContactBudget$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ContactBudget' from JSON`,
  );
}

/** @internal */
export const CreateBudgetRequestBody$inboundSchema: z.ZodType<
  CreateBudgetRequestBody,
  z.ZodTypeDef,
  unknown
> = z.union([
  z.lazy(() => ContactBudget$inboundSchema),
  z.lazy(() => WorkspaceBudget$inboundSchema),
]);

/** @internal */
export type CreateBudgetRequestBody$Outbound =
  | ContactBudget$Outbound
  | WorkspaceBudget$Outbound;

/** @internal */
export const CreateBudgetRequestBody$outboundSchema: z.ZodType<
  CreateBudgetRequestBody$Outbound,
  z.ZodTypeDef,
  CreateBudgetRequestBody
> = z.union([
  z.lazy(() => ContactBudget$outboundSchema),
  z.lazy(() => WorkspaceBudget$outboundSchema),
]);

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace CreateBudgetRequestBody$ {
  /** @deprecated use `CreateBudgetRequestBody$inboundSchema` instead. */
  export const inboundSchema = CreateBudgetRequestBody$inboundSchema;
  /** @deprecated use `CreateBudgetRequestBody$outboundSchema` instead. */
  export const outboundSchema = CreateBudgetRequestBody$outboundSchema;
  /** @deprecated use `CreateBudgetRequestBody$Outbound` instead. */
  export type Outbound = CreateBudgetRequestBody$Outbound;
}

export function createBudgetRequestBodyToJSON(
  createBudgetRequestBody: CreateBudgetRequestBody,
): string {
  return JSON.stringify(
    CreateBudgetRequestBody$outboundSchema.parse(createBudgetRequestBody),
  );
}

export function createBudgetRequestBodyFromJSON(
  jsonString: string,
): SafeParseResult<CreateBudgetRequestBody, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => CreateBudgetRequestBody$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'CreateBudgetRequestBody' from JSON`,
  );
}

/** @internal */
export const CreateBudgetType$inboundSchema: z.ZodNativeEnum<
  typeof CreateBudgetType
> = z.nativeEnum(CreateBudgetType);

/** @internal */
export const CreateBudgetType$outboundSchema: z.ZodNativeEnum<
  typeof CreateBudgetType
> = CreateBudgetType$inboundSchema;

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace CreateBudgetType$ {
  /** @deprecated use `CreateBudgetType$inboundSchema` instead. */
  export const inboundSchema = CreateBudgetType$inboundSchema;
  /** @deprecated use `CreateBudgetType$outboundSchema` instead. */
  export const outboundSchema = CreateBudgetType$outboundSchema;
}

/** @internal */
export const CreateBudgetPeriod$inboundSchema: z.ZodNativeEnum<
  typeof CreateBudgetPeriod
> = z.nativeEnum(CreateBudgetPeriod);

/** @internal */
export const CreateBudgetPeriod$outboundSchema: z.ZodNativeEnum<
  typeof CreateBudgetPeriod
> = CreateBudgetPeriod$inboundSchema;

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace CreateBudgetPeriod$ {
  /** @deprecated use `CreateBudgetPeriod$inboundSchema` instead. */
  export const inboundSchema = CreateBudgetPeriod$inboundSchema;
  /** @deprecated use `CreateBudgetPeriod$outboundSchema` instead. */
  export const outboundSchema = CreateBudgetPeriod$outboundSchema;
}

/** @internal */
export const CreateBudgetBudget$inboundSchema: z.ZodType<
  CreateBudgetBudget,
  z.ZodTypeDef,
  unknown
> = z.object({
  period: CreateBudgetPeriod$inboundSchema,
  amount: z.number(),
});

/** @internal */
export type CreateBudgetBudget$Outbound = {
  period: string;
  amount: number;
};

/** @internal */
export const CreateBudgetBudget$outboundSchema: z.ZodType<
  CreateBudgetBudget$Outbound,
  z.ZodTypeDef,
  CreateBudgetBudget
> = z.object({
  period: CreateBudgetPeriod$outboundSchema,
  amount: z.number(),
});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace CreateBudgetBudget$ {
  /** @deprecated use `CreateBudgetBudget$inboundSchema` instead. */
  export const inboundSchema = CreateBudgetBudget$inboundSchema;
  /** @deprecated use `CreateBudgetBudget$outboundSchema` instead. */
  export const outboundSchema = CreateBudgetBudget$outboundSchema;
  /** @deprecated use `CreateBudgetBudget$Outbound` instead. */
  export type Outbound = CreateBudgetBudget$Outbound;
}

export function createBudgetBudgetToJSON(
  createBudgetBudget: CreateBudgetBudget,
): string {
  return JSON.stringify(
    CreateBudgetBudget$outboundSchema.parse(createBudgetBudget),
  );
}

export function createBudgetBudgetFromJSON(
  jsonString: string,
): SafeParseResult<CreateBudgetBudget, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => CreateBudgetBudget$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'CreateBudgetBudget' from JSON`,
  );
}

/** @internal */
export const Consumption$inboundSchema: z.ZodType<
  Consumption,
  z.ZodTypeDef,
  unknown
> = z.object({
  current_amount: z.number(),
  remaining_amount: z.number(),
  period_start: z.nullable(z.string().transform(v => new RFCDate(v))),
  period_end: z.nullable(z.string().transform(v => new RFCDate(v))),
}).transform((v) => {
  return remap$(v, {
    "current_amount": "currentAmount",
    "remaining_amount": "remainingAmount",
    "period_start": "periodStart",
    "period_end": "periodEnd",
  });
});

/** @internal */
export type Consumption$Outbound = {
  current_amount: number;
  remaining_amount: number;
  period_start: string | null;
  period_end: string | null;
};

/** @internal */
export const Consumption$outboundSchema: z.ZodType<
  Consumption$Outbound,
  z.ZodTypeDef,
  Consumption
> = z.object({
  currentAmount: z.number(),
  remainingAmount: z.number(),
  periodStart: z.nullable(z.instanceof(RFCDate).transform(v => v.toString())),
  periodEnd: z.nullable(z.instanceof(RFCDate).transform(v => v.toString())),
}).transform((v) => {
  return remap$(v, {
    currentAmount: "current_amount",
    remainingAmount: "remaining_amount",
    periodStart: "period_start",
    periodEnd: "period_end",
  });
});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace Consumption$ {
  /** @deprecated use `Consumption$inboundSchema` instead. */
  export const inboundSchema = Consumption$inboundSchema;
  /** @deprecated use `Consumption$outboundSchema` instead. */
  export const outboundSchema = Consumption$outboundSchema;
  /** @deprecated use `Consumption$Outbound` instead. */
  export type Outbound = Consumption$Outbound;
}

export function consumptionToJSON(consumption: Consumption): string {
  return JSON.stringify(Consumption$outboundSchema.parse(consumption));
}

export function consumptionFromJSON(
  jsonString: string,
): SafeParseResult<Consumption, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Consumption$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Consumption' from JSON`,
  );
}

/** @internal */
export const CreateBudgetResponseBody$inboundSchema: z.ZodType<
  CreateBudgetResponseBody,
  z.ZodTypeDef,
  unknown
> = z.object({
  _id: z.string(),
  workspace_id: z.string(),
  type: CreateBudgetType$inboundSchema,
  contact_id: z.string().optional(),
  budget: z.lazy(() => CreateBudgetBudget$inboundSchema),
  is_active: z.boolean(),
  consumption: z.lazy(() => Consumption$inboundSchema).optional(),
  created: z.string().datetime({ offset: true }).transform(v => new Date(v))
    .optional(),
  updated: z.string().datetime({ offset: true }).default(
    "2025-10-28T04:59:15.471Z",
  ).transform(v => new Date(v)),
}).transform((v) => {
  return remap$(v, {
    "_id": "id",
    "workspace_id": "workspaceId",
    "contact_id": "contactId",
    "is_active": "isActive",
  });
});

/** @internal */
export type CreateBudgetResponseBody$Outbound = {
  _id: string;
  workspace_id: string;
  type: string;
  contact_id?: string | undefined;
  budget: CreateBudgetBudget$Outbound;
  is_active: boolean;
  consumption?: Consumption$Outbound | undefined;
  created?: string | undefined;
  updated: string;
};

/** @internal */
export const CreateBudgetResponseBody$outboundSchema: z.ZodType<
  CreateBudgetResponseBody$Outbound,
  z.ZodTypeDef,
  CreateBudgetResponseBody
> = z.object({
  id: z.string(),
  workspaceId: z.string(),
  type: CreateBudgetType$outboundSchema,
  contactId: z.string().optional(),
  budget: z.lazy(() => CreateBudgetBudget$outboundSchema),
  isActive: z.boolean(),
  consumption: z.lazy(() => Consumption$outboundSchema).optional(),
  created: z.date().transform(v => v.toISOString()).optional(),
  updated: z.date().default(() => new Date("2025-10-28T04:59:15.471Z"))
    .transform(v => v.toISOString()),
}).transform((v) => {
  return remap$(v, {
    id: "_id",
    workspaceId: "workspace_id",
    contactId: "contact_id",
    isActive: "is_active",
  });
});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace CreateBudgetResponseBody$ {
  /** @deprecated use `CreateBudgetResponseBody$inboundSchema` instead. */
  export const inboundSchema = CreateBudgetResponseBody$inboundSchema;
  /** @deprecated use `CreateBudgetResponseBody$outboundSchema` instead. */
  export const outboundSchema = CreateBudgetResponseBody$outboundSchema;
  /** @deprecated use `CreateBudgetResponseBody$Outbound` instead. */
  export type Outbound = CreateBudgetResponseBody$Outbound;
}

export function createBudgetResponseBodyToJSON(
  createBudgetResponseBody: CreateBudgetResponseBody,
): string {
  return JSON.stringify(
    CreateBudgetResponseBody$outboundSchema.parse(createBudgetResponseBody),
  );
}

export function createBudgetResponseBodyFromJSON(
  jsonString: string,
): SafeParseResult<CreateBudgetResponseBody, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => CreateBudgetResponseBody$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'CreateBudgetResponseBody' from JSON`,
  );
}
