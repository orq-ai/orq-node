/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import { ClosedEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";

export type GetAllMemoryStoresRequest = {
  /**
   * A limit on the number of objects to be returned. Limit can range between 1 and 50, and the default is 10
   */
  limit?: number | undefined;
  /**
   * A cursor for use in pagination. `starting_after` is an object ID that defines your place in the list. For instance, if you make a list request and receive 20 objects, ending with `01JJ1HDHN79XAS7A01WB3HYSDB`, your subsequent call can include `after=01JJ1HDHN79XAS7A01WB3HYSDB` in order to fetch the next page of the list.
   */
  startingAfter?: string | undefined;
  /**
   * A cursor for use in pagination. `ending_before` is an object ID that defines your place in the list. For instance, if you make a list request and receive 20 objects, starting with `01JJ1HDHN79XAS7A01WB3HYSDB`, your subsequent call can include `before=01JJ1HDHN79XAS7A01WB3HYSDB` in order to fetch the previous page of the list.
   */
  endingBefore?: string | undefined;
};

export const GetAllMemoryStoresObject = {
  List: "list",
} as const;
export type GetAllMemoryStoresObject = ClosedEnum<
  typeof GetAllMemoryStoresObject
>;

export type GetAllMemoryStoresEmbeddingConfig = {
  /**
   * The embeddings model to use for the knowledge base in the format "provider/model" for public models or "workspaceKey@provider/model" for private workspace models. This model will be used to embed the chunks when they are added to the knowledge base. Refer to the (Supported models)[/docs/proxy/supported-models] to browse available models.
   */
  model: string;
};

export type GetAllMemoryStoresData = {
  /**
   * The unique identifier of the memory store
   */
  id: string;
  /**
   * The unique key of the memory store. The key is unique and inmmutable and cannot be repeated within the same workspace.
   */
  key: string;
  /**
   * The description of the memory store. Be as precise as possible to help the AI to understand the purpose of the memory store.
   */
  description: string;
  /**
   * The user ID of the creator
   */
  createdById?: string | undefined;
  /**
   * The user ID of the last updater
   */
  updatedById?: string | undefined;
  /**
   * The creation date of the memory store
   */
  created: string;
  /**
   * The last update date of the memory store
   */
  updated: string;
  /**
   * The default time to live of every memory document created within the memory store. Useful to control if the documents in the memory should be store for short or long term.
   */
  ttl?: number | undefined;
  embeddingConfig: GetAllMemoryStoresEmbeddingConfig;
};

/**
 * Successfully retrieved the list of memory stores.
 */
export type GetAllMemoryStoresResponseBody = {
  object: GetAllMemoryStoresObject;
  data: Array<GetAllMemoryStoresData>;
  hasMore: boolean;
};

/** @internal */
export const GetAllMemoryStoresRequest$inboundSchema: z.ZodType<
  GetAllMemoryStoresRequest,
  z.ZodTypeDef,
  unknown
> = z.object({
  limit: z.number().default(10),
  starting_after: z.string().optional(),
  ending_before: z.string().optional(),
}).transform((v) => {
  return remap$(v, {
    "starting_after": "startingAfter",
    "ending_before": "endingBefore",
  });
});
/** @internal */
export type GetAllMemoryStoresRequest$Outbound = {
  limit: number;
  starting_after?: string | undefined;
  ending_before?: string | undefined;
};

/** @internal */
export const GetAllMemoryStoresRequest$outboundSchema: z.ZodType<
  GetAllMemoryStoresRequest$Outbound,
  z.ZodTypeDef,
  GetAllMemoryStoresRequest
> = z.object({
  limit: z.number().default(10),
  startingAfter: z.string().optional(),
  endingBefore: z.string().optional(),
}).transform((v) => {
  return remap$(v, {
    startingAfter: "starting_after",
    endingBefore: "ending_before",
  });
});

export function getAllMemoryStoresRequestToJSON(
  getAllMemoryStoresRequest: GetAllMemoryStoresRequest,
): string {
  return JSON.stringify(
    GetAllMemoryStoresRequest$outboundSchema.parse(getAllMemoryStoresRequest),
  );
}
export function getAllMemoryStoresRequestFromJSON(
  jsonString: string,
): SafeParseResult<GetAllMemoryStoresRequest, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => GetAllMemoryStoresRequest$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'GetAllMemoryStoresRequest' from JSON`,
  );
}

/** @internal */
export const GetAllMemoryStoresObject$inboundSchema: z.ZodNativeEnum<
  typeof GetAllMemoryStoresObject
> = z.nativeEnum(GetAllMemoryStoresObject);
/** @internal */
export const GetAllMemoryStoresObject$outboundSchema: z.ZodNativeEnum<
  typeof GetAllMemoryStoresObject
> = GetAllMemoryStoresObject$inboundSchema;

/** @internal */
export const GetAllMemoryStoresEmbeddingConfig$inboundSchema: z.ZodType<
  GetAllMemoryStoresEmbeddingConfig,
  z.ZodTypeDef,
  unknown
> = z.object({
  model: z.string(),
});
/** @internal */
export type GetAllMemoryStoresEmbeddingConfig$Outbound = {
  model: string;
};

/** @internal */
export const GetAllMemoryStoresEmbeddingConfig$outboundSchema: z.ZodType<
  GetAllMemoryStoresEmbeddingConfig$Outbound,
  z.ZodTypeDef,
  GetAllMemoryStoresEmbeddingConfig
> = z.object({
  model: z.string(),
});

export function getAllMemoryStoresEmbeddingConfigToJSON(
  getAllMemoryStoresEmbeddingConfig: GetAllMemoryStoresEmbeddingConfig,
): string {
  return JSON.stringify(
    GetAllMemoryStoresEmbeddingConfig$outboundSchema.parse(
      getAllMemoryStoresEmbeddingConfig,
    ),
  );
}
export function getAllMemoryStoresEmbeddingConfigFromJSON(
  jsonString: string,
): SafeParseResult<GetAllMemoryStoresEmbeddingConfig, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => GetAllMemoryStoresEmbeddingConfig$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'GetAllMemoryStoresEmbeddingConfig' from JSON`,
  );
}

/** @internal */
export const GetAllMemoryStoresData$inboundSchema: z.ZodType<
  GetAllMemoryStoresData,
  z.ZodTypeDef,
  unknown
> = z.object({
  _id: z.string(),
  key: z.string(),
  description: z.string(),
  created_by_id: z.string().optional(),
  updated_by_id: z.string().optional(),
  created: z.string(),
  updated: z.string(),
  ttl: z.number().optional(),
  embedding_config: z.lazy(() =>
    GetAllMemoryStoresEmbeddingConfig$inboundSchema
  ),
}).transform((v) => {
  return remap$(v, {
    "_id": "id",
    "created_by_id": "createdById",
    "updated_by_id": "updatedById",
    "embedding_config": "embeddingConfig",
  });
});
/** @internal */
export type GetAllMemoryStoresData$Outbound = {
  _id: string;
  key: string;
  description: string;
  created_by_id?: string | undefined;
  updated_by_id?: string | undefined;
  created: string;
  updated: string;
  ttl?: number | undefined;
  embedding_config: GetAllMemoryStoresEmbeddingConfig$Outbound;
};

/** @internal */
export const GetAllMemoryStoresData$outboundSchema: z.ZodType<
  GetAllMemoryStoresData$Outbound,
  z.ZodTypeDef,
  GetAllMemoryStoresData
> = z.object({
  id: z.string(),
  key: z.string(),
  description: z.string(),
  createdById: z.string().optional(),
  updatedById: z.string().optional(),
  created: z.string(),
  updated: z.string(),
  ttl: z.number().optional(),
  embeddingConfig: z.lazy(() =>
    GetAllMemoryStoresEmbeddingConfig$outboundSchema
  ),
}).transform((v) => {
  return remap$(v, {
    id: "_id",
    createdById: "created_by_id",
    updatedById: "updated_by_id",
    embeddingConfig: "embedding_config",
  });
});

export function getAllMemoryStoresDataToJSON(
  getAllMemoryStoresData: GetAllMemoryStoresData,
): string {
  return JSON.stringify(
    GetAllMemoryStoresData$outboundSchema.parse(getAllMemoryStoresData),
  );
}
export function getAllMemoryStoresDataFromJSON(
  jsonString: string,
): SafeParseResult<GetAllMemoryStoresData, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => GetAllMemoryStoresData$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'GetAllMemoryStoresData' from JSON`,
  );
}

/** @internal */
export const GetAllMemoryStoresResponseBody$inboundSchema: z.ZodType<
  GetAllMemoryStoresResponseBody,
  z.ZodTypeDef,
  unknown
> = z.object({
  object: GetAllMemoryStoresObject$inboundSchema,
  data: z.array(z.lazy(() => GetAllMemoryStoresData$inboundSchema)),
  has_more: z.boolean(),
}).transform((v) => {
  return remap$(v, {
    "has_more": "hasMore",
  });
});
/** @internal */
export type GetAllMemoryStoresResponseBody$Outbound = {
  object: string;
  data: Array<GetAllMemoryStoresData$Outbound>;
  has_more: boolean;
};

/** @internal */
export const GetAllMemoryStoresResponseBody$outboundSchema: z.ZodType<
  GetAllMemoryStoresResponseBody$Outbound,
  z.ZodTypeDef,
  GetAllMemoryStoresResponseBody
> = z.object({
  object: GetAllMemoryStoresObject$outboundSchema,
  data: z.array(z.lazy(() => GetAllMemoryStoresData$outboundSchema)),
  hasMore: z.boolean(),
}).transform((v) => {
  return remap$(v, {
    hasMore: "has_more",
  });
});

export function getAllMemoryStoresResponseBodyToJSON(
  getAllMemoryStoresResponseBody: GetAllMemoryStoresResponseBody,
): string {
  return JSON.stringify(
    GetAllMemoryStoresResponseBody$outboundSchema.parse(
      getAllMemoryStoresResponseBody,
    ),
  );
}
export function getAllMemoryStoresResponseBodyFromJSON(
  jsonString: string,
): SafeParseResult<GetAllMemoryStoresResponseBody, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => GetAllMemoryStoresResponseBody$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'GetAllMemoryStoresResponseBody' from JSON`,
  );
}
