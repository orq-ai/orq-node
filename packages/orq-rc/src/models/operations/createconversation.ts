/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import { ClosedEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";

/**
 * Optional metadata to attach to the conversation.
 */
export type CreateConversationMetadata = {
  /**
   * Set to `true` to indicate the title is being auto-generated.
   */
  generatingTitle?: boolean | undefined;
  /**
   * Parent entity identifier to associate the conversation with. Omit or set to `null` for standalone conversations.
   */
  entityId?: string | null | undefined;
  /**
   * Model identifier in `provider/model_id` format for standalone conversations. Omit or set to `null` for entity-bound conversations.
   */
  model?: string | null | undefined;
};

export type CreateConversationRequestBody = {
  /**
   * Human-readable name for the conversation. Defaults to "Untitled" if omitted.
   */
  displayName?: string | undefined;
  /**
   * Project identifier to associate the conversation with.
   */
  projectId: string;
  /**
   * Optional metadata to attach to the conversation.
   */
  metadata?: CreateConversationMetadata | undefined;
};

/**
 * Resource type discriminator.
 */
export const CreateConversationKind = {
  Conversation: "conversation",
} as const;
/**
 * Resource type discriminator.
 */
export type CreateConversationKind = ClosedEnum<typeof CreateConversationKind>;

/**
 * Additional conversation metadata.
 */
export type CreateConversationConversationsMetadata = {
  /**
   * When `true`, indicates the conversation title is being auto-generated.
   */
  generatingTitle?: boolean | undefined;
  /**
   * Parent entity identifier (e.g., agent or deployment). Set to `null` for standalone conversations.
   */
  entityId?: string | null | undefined;
  /**
   * Model identifier for standalone conversations in `provider/model_id` format. Set to `null` for entity-bound conversations.
   */
  model?: string | null | undefined;
};

/**
 * Conversation successfully created. Returns the complete conversation object including the generated ID and timestamps.
 */
export type CreateConversationResponseBody = {
  /**
   * Unique conversation identifier with `conv_` prefix.
   */
  id?: string | undefined;
  /**
   * Resource type discriminator.
   */
  kind: CreateConversationKind;
  /**
   * Human-readable name for the conversation. Maximum 100 characters.
   */
  displayName: string;
  /**
   * Unix timestamp in milliseconds when the conversation was created.
   */
  createdAt: number;
  /**
   * Unix timestamp in milliseconds when the conversation was last modified.
   */
  updatedAt: number;
  /**
   * Identifier of the user or system that created the conversation.
   */
  createdById?: string | undefined;
  /**
   * Identifier of the user or system that last modified the conversation.
   */
  updatedById?: string | undefined;
  /**
   * Additional conversation metadata.
   */
  metadata?: CreateConversationConversationsMetadata | undefined;
};

/** @internal */
export const CreateConversationMetadata$inboundSchema: z.ZodType<
  CreateConversationMetadata,
  z.ZodTypeDef,
  unknown
> = z.object({
  generatingTitle: z.boolean().optional(),
  entityId: z.nullable(z.string()).optional(),
  model: z.nullable(z.string()).optional(),
});
/** @internal */
export type CreateConversationMetadata$Outbound = {
  generatingTitle?: boolean | undefined;
  entityId?: string | null | undefined;
  model?: string | null | undefined;
};

/** @internal */
export const CreateConversationMetadata$outboundSchema: z.ZodType<
  CreateConversationMetadata$Outbound,
  z.ZodTypeDef,
  CreateConversationMetadata
> = z.object({
  generatingTitle: z.boolean().optional(),
  entityId: z.nullable(z.string()).optional(),
  model: z.nullable(z.string()).optional(),
});

export function createConversationMetadataToJSON(
  createConversationMetadata: CreateConversationMetadata,
): string {
  return JSON.stringify(
    CreateConversationMetadata$outboundSchema.parse(createConversationMetadata),
  );
}
export function createConversationMetadataFromJSON(
  jsonString: string,
): SafeParseResult<CreateConversationMetadata, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => CreateConversationMetadata$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'CreateConversationMetadata' from JSON`,
  );
}

/** @internal */
export const CreateConversationRequestBody$inboundSchema: z.ZodType<
  CreateConversationRequestBody,
  z.ZodTypeDef,
  unknown
> = z.object({
  displayName: z.string().default("Untitled"),
  projectId: z.string(),
  metadata: z.lazy(() => CreateConversationMetadata$inboundSchema).optional(),
});
/** @internal */
export type CreateConversationRequestBody$Outbound = {
  displayName: string;
  projectId: string;
  metadata?: CreateConversationMetadata$Outbound | undefined;
};

/** @internal */
export const CreateConversationRequestBody$outboundSchema: z.ZodType<
  CreateConversationRequestBody$Outbound,
  z.ZodTypeDef,
  CreateConversationRequestBody
> = z.object({
  displayName: z.string().default("Untitled"),
  projectId: z.string(),
  metadata: z.lazy(() => CreateConversationMetadata$outboundSchema).optional(),
});

export function createConversationRequestBodyToJSON(
  createConversationRequestBody: CreateConversationRequestBody,
): string {
  return JSON.stringify(
    CreateConversationRequestBody$outboundSchema.parse(
      createConversationRequestBody,
    ),
  );
}
export function createConversationRequestBodyFromJSON(
  jsonString: string,
): SafeParseResult<CreateConversationRequestBody, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => CreateConversationRequestBody$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'CreateConversationRequestBody' from JSON`,
  );
}

/** @internal */
export const CreateConversationKind$inboundSchema: z.ZodNativeEnum<
  typeof CreateConversationKind
> = z.nativeEnum(CreateConversationKind);
/** @internal */
export const CreateConversationKind$outboundSchema: z.ZodNativeEnum<
  typeof CreateConversationKind
> = CreateConversationKind$inboundSchema;

/** @internal */
export const CreateConversationConversationsMetadata$inboundSchema: z.ZodType<
  CreateConversationConversationsMetadata,
  z.ZodTypeDef,
  unknown
> = z.object({
  generatingTitle: z.boolean().optional(),
  entityId: z.nullable(z.string()).optional(),
  model: z.nullable(z.string()).optional(),
});
/** @internal */
export type CreateConversationConversationsMetadata$Outbound = {
  generatingTitle?: boolean | undefined;
  entityId?: string | null | undefined;
  model?: string | null | undefined;
};

/** @internal */
export const CreateConversationConversationsMetadata$outboundSchema: z.ZodType<
  CreateConversationConversationsMetadata$Outbound,
  z.ZodTypeDef,
  CreateConversationConversationsMetadata
> = z.object({
  generatingTitle: z.boolean().optional(),
  entityId: z.nullable(z.string()).optional(),
  model: z.nullable(z.string()).optional(),
});

export function createConversationConversationsMetadataToJSON(
  createConversationConversationsMetadata:
    CreateConversationConversationsMetadata,
): string {
  return JSON.stringify(
    CreateConversationConversationsMetadata$outboundSchema.parse(
      createConversationConversationsMetadata,
    ),
  );
}
export function createConversationConversationsMetadataFromJSON(
  jsonString: string,
): SafeParseResult<
  CreateConversationConversationsMetadata,
  SDKValidationError
> {
  return safeParse(
    jsonString,
    (x) =>
      CreateConversationConversationsMetadata$inboundSchema.parse(
        JSON.parse(x),
      ),
    `Failed to parse 'CreateConversationConversationsMetadata' from JSON`,
  );
}

/** @internal */
export const CreateConversationResponseBody$inboundSchema: z.ZodType<
  CreateConversationResponseBody,
  z.ZodTypeDef,
  unknown
> = z.object({
  _id: z.string().default("conv_01kfjan6hghyqm787bms9r0rcj"),
  kind: CreateConversationKind$inboundSchema,
  displayName: z.string(),
  createdAt: z.number(),
  updatedAt: z.number(),
  createdById: z.string().optional(),
  updatedById: z.string().optional(),
  metadata: z.lazy(() => CreateConversationConversationsMetadata$inboundSchema)
    .optional(),
}).transform((v) => {
  return remap$(v, {
    "_id": "id",
  });
});
/** @internal */
export type CreateConversationResponseBody$Outbound = {
  _id: string;
  kind: string;
  displayName: string;
  createdAt: number;
  updatedAt: number;
  createdById?: string | undefined;
  updatedById?: string | undefined;
  metadata?: CreateConversationConversationsMetadata$Outbound | undefined;
};

/** @internal */
export const CreateConversationResponseBody$outboundSchema: z.ZodType<
  CreateConversationResponseBody$Outbound,
  z.ZodTypeDef,
  CreateConversationResponseBody
> = z.object({
  id: z.string().default("conv_01kfjan6hghyqm787bms9r0rcj"),
  kind: CreateConversationKind$outboundSchema,
  displayName: z.string(),
  createdAt: z.number(),
  updatedAt: z.number(),
  createdById: z.string().optional(),
  updatedById: z.string().optional(),
  metadata: z.lazy(() => CreateConversationConversationsMetadata$outboundSchema)
    .optional(),
}).transform((v) => {
  return remap$(v, {
    id: "_id",
  });
});

export function createConversationResponseBodyToJSON(
  createConversationResponseBody: CreateConversationResponseBody,
): string {
  return JSON.stringify(
    CreateConversationResponseBody$outboundSchema.parse(
      createConversationResponseBody,
    ),
  );
}
export function createConversationResponseBodyFromJSON(
  jsonString: string,
): SafeParseResult<CreateConversationResponseBody, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => CreateConversationResponseBody$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'CreateConversationResponseBody' from JSON`,
  );
}
