/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import { ClosedEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";

/**
 * Specifies the detail level of the image.
 */
export const Detail = {
  Low: "low",
  High: "high",
  Auto: "auto",
} as const;
/**
 * Specifies the detail level of the image.
 */
export type Detail = ClosedEnum<typeof Detail>;

export type ImageUrl = {
  /**
   * Either a URL of the image or the base64 encoded image data.
   */
  url: string;
  /**
   * Specifies the detail level of the image.
   */
  detail?: Detail | undefined;
};

/**
 * Create a cache control breakpoint at this content block. Accepts only the value "ephemeral".
 */
export const ImageContentPartSchemaCacheControlType = {
  Ephemeral: "ephemeral",
} as const;
/**
 * Create a cache control breakpoint at this content block. Accepts only the value "ephemeral".
 */
export type ImageContentPartSchemaCacheControlType = ClosedEnum<
  typeof ImageContentPartSchemaCacheControlType
>;

/**
 * The time-to-live for the cache control breakpoint. This may be one of the following values:
 *
 * @remarks
 *
 * - `5m`: 5 minutes
 * - `1h`: 1 hour
 *
 * Defaults to `5m`. Only supported by `Anthropic` Claude models.
 */
export const ImageContentPartSchemaTtl = {
  Fivem: "5m",
  Oneh: "1h",
} as const;
/**
 * The time-to-live for the cache control breakpoint. This may be one of the following values:
 *
 * @remarks
 *
 * - `5m`: 5 minutes
 * - `1h`: 1 hour
 *
 * Defaults to `5m`. Only supported by `Anthropic` Claude models.
 */
export type ImageContentPartSchemaTtl = ClosedEnum<
  typeof ImageContentPartSchemaTtl
>;

export type ImageContentPartSchemaCacheControl = {
  /**
   * Create a cache control breakpoint at this content block. Accepts only the value "ephemeral".
   */
  type: ImageContentPartSchemaCacheControlType;
  /**
   * The time-to-live for the cache control breakpoint. This may be one of the following values:
   *
   * @remarks
   *
   * - `5m`: 5 minutes
   * - `1h`: 1 hour
   *
   * Defaults to `5m`. Only supported by `Anthropic` Claude models.
   */
  ttl?: ImageContentPartSchemaTtl | undefined;
};

/**
 * An image content part
 */
export type ImageContentPartSchema = {
  type: "image_url";
  imageUrl: ImageUrl;
  cacheControl?: ImageContentPartSchemaCacheControl | undefined;
};

/** @internal */
export const Detail$inboundSchema: z.ZodNativeEnum<typeof Detail> = z
  .nativeEnum(Detail);
/** @internal */
export const Detail$outboundSchema: z.ZodNativeEnum<typeof Detail> =
  Detail$inboundSchema;

/** @internal */
export const ImageUrl$inboundSchema: z.ZodType<
  ImageUrl,
  z.ZodTypeDef,
  unknown
> = z.object({
  url: z.string(),
  detail: Detail$inboundSchema.optional(),
});
/** @internal */
export type ImageUrl$Outbound = {
  url: string;
  detail?: string | undefined;
};

/** @internal */
export const ImageUrl$outboundSchema: z.ZodType<
  ImageUrl$Outbound,
  z.ZodTypeDef,
  ImageUrl
> = z.object({
  url: z.string(),
  detail: Detail$outboundSchema.optional(),
});

export function imageUrlToJSON(imageUrl: ImageUrl): string {
  return JSON.stringify(ImageUrl$outboundSchema.parse(imageUrl));
}
export function imageUrlFromJSON(
  jsonString: string,
): SafeParseResult<ImageUrl, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ImageUrl$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ImageUrl' from JSON`,
  );
}

/** @internal */
export const ImageContentPartSchemaCacheControlType$inboundSchema:
  z.ZodNativeEnum<typeof ImageContentPartSchemaCacheControlType> = z.nativeEnum(
    ImageContentPartSchemaCacheControlType,
  );
/** @internal */
export const ImageContentPartSchemaCacheControlType$outboundSchema:
  z.ZodNativeEnum<typeof ImageContentPartSchemaCacheControlType> =
    ImageContentPartSchemaCacheControlType$inboundSchema;

/** @internal */
export const ImageContentPartSchemaTtl$inboundSchema: z.ZodNativeEnum<
  typeof ImageContentPartSchemaTtl
> = z.nativeEnum(ImageContentPartSchemaTtl);
/** @internal */
export const ImageContentPartSchemaTtl$outboundSchema: z.ZodNativeEnum<
  typeof ImageContentPartSchemaTtl
> = ImageContentPartSchemaTtl$inboundSchema;

/** @internal */
export const ImageContentPartSchemaCacheControl$inboundSchema: z.ZodType<
  ImageContentPartSchemaCacheControl,
  z.ZodTypeDef,
  unknown
> = z.object({
  type: ImageContentPartSchemaCacheControlType$inboundSchema,
  ttl: ImageContentPartSchemaTtl$inboundSchema.default("5m"),
});
/** @internal */
export type ImageContentPartSchemaCacheControl$Outbound = {
  type: string;
  ttl: string;
};

/** @internal */
export const ImageContentPartSchemaCacheControl$outboundSchema: z.ZodType<
  ImageContentPartSchemaCacheControl$Outbound,
  z.ZodTypeDef,
  ImageContentPartSchemaCacheControl
> = z.object({
  type: ImageContentPartSchemaCacheControlType$outboundSchema,
  ttl: ImageContentPartSchemaTtl$outboundSchema.default("5m"),
});

export function imageContentPartSchemaCacheControlToJSON(
  imageContentPartSchemaCacheControl: ImageContentPartSchemaCacheControl,
): string {
  return JSON.stringify(
    ImageContentPartSchemaCacheControl$outboundSchema.parse(
      imageContentPartSchemaCacheControl,
    ),
  );
}
export function imageContentPartSchemaCacheControlFromJSON(
  jsonString: string,
): SafeParseResult<ImageContentPartSchemaCacheControl, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) =>
      ImageContentPartSchemaCacheControl$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ImageContentPartSchemaCacheControl' from JSON`,
  );
}

/** @internal */
export const ImageContentPartSchema$inboundSchema: z.ZodType<
  ImageContentPartSchema,
  z.ZodTypeDef,
  unknown
> = z.object({
  type: z.literal("image_url"),
  image_url: z.lazy(() => ImageUrl$inboundSchema),
  cache_control: z.lazy(() => ImageContentPartSchemaCacheControl$inboundSchema)
    .optional(),
}).transform((v) => {
  return remap$(v, {
    "image_url": "imageUrl",
    "cache_control": "cacheControl",
  });
});
/** @internal */
export type ImageContentPartSchema$Outbound = {
  type: "image_url";
  image_url: ImageUrl$Outbound;
  cache_control?: ImageContentPartSchemaCacheControl$Outbound | undefined;
};

/** @internal */
export const ImageContentPartSchema$outboundSchema: z.ZodType<
  ImageContentPartSchema$Outbound,
  z.ZodTypeDef,
  ImageContentPartSchema
> = z.object({
  type: z.literal("image_url"),
  imageUrl: z.lazy(() => ImageUrl$outboundSchema),
  cacheControl: z.lazy(() => ImageContentPartSchemaCacheControl$outboundSchema)
    .optional(),
}).transform((v) => {
  return remap$(v, {
    imageUrl: "image_url",
    cacheControl: "cache_control",
  });
});

export function imageContentPartSchemaToJSON(
  imageContentPartSchema: ImageContentPartSchema,
): string {
  return JSON.stringify(
    ImageContentPartSchema$outboundSchema.parse(imageContentPartSchema),
  );
}
export function imageContentPartSchemaFromJSON(
  jsonString: string,
): SafeParseResult<ImageContentPartSchema, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ImageContentPartSchema$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ImageContentPartSchema' from JSON`,
  );
}
