/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { McpServer } from "@modelcontextprotocol/sdk/server/mcp.js";
import { OrqCore } from "../core.js";
import { SDKOptions } from "../lib/config.js";
import type { ConsoleLogger } from "./console-logger.js";
import { createRegisterPrompt } from "./prompts.js";
import {
  createRegisterResource,
  createRegisterResourceTemplate,
} from "./resources.js";
import { MCPScope } from "./scopes.js";
import { createRegisterTool } from "./tools.js";
import { tool$contactsCreate } from "./tools/contactsCreate.js";
import { tool$contactsDelete } from "./tools/contactsDelete.js";
import { tool$contactsList } from "./tools/contactsList.js";
import { tool$contactsRetrieve } from "./tools/contactsRetrieve.js";
import { tool$contactsUpdate } from "./tools/contactsUpdate.js";
import { tool$datasetsClear } from "./tools/datasetsClear.js";
import { tool$datasetsCreate } from "./tools/datasetsCreate.js";
import { tool$datasetsCreateDatapoint } from "./tools/datasetsCreateDatapoint.js";
import { tool$datasetsDelete } from "./tools/datasetsDelete.js";
import { tool$datasetsDeleteDatapoint } from "./tools/datasetsDeleteDatapoint.js";
import { tool$datasetsList } from "./tools/datasetsList.js";
import { tool$datasetsListDatapoints } from "./tools/datasetsListDatapoints.js";
import { tool$datasetsRetrieve } from "./tools/datasetsRetrieve.js";
import { tool$datasetsRetrieveDatapoint } from "./tools/datasetsRetrieveDatapoint.js";
import { tool$datasetsUpdate } from "./tools/datasetsUpdate.js";
import { tool$datasetsUpdateDatapoint } from "./tools/datasetsUpdateDatapoint.js";
import { tool$deploymentsGetConfig } from "./tools/deploymentsGetConfig.js";
import { tool$deploymentsInvoke } from "./tools/deploymentsInvoke.js";
import { tool$deploymentsList } from "./tools/deploymentsList.js";
import { tool$deploymentsMetricsCreate } from "./tools/deploymentsMetricsCreate.js";
import { tool$deploymentsStream } from "./tools/deploymentsStream.js";
import { tool$evalsAgeAppropriate } from "./tools/evalsAgeAppropriate.js";
import { tool$evalsAll } from "./tools/evalsAll.js";
import { tool$evalsBertScore } from "./tools/evalsBertScore.js";
import { tool$evalsBleuScore } from "./tools/evalsBleuScore.js";
import { tool$evalsBotDetection } from "./tools/evalsBotDetection.js";
import { tool$evalsContains } from "./tools/evalsContains.js";
import { tool$evalsContainsAll } from "./tools/evalsContainsAll.js";
import { tool$evalsContainsAny } from "./tools/evalsContainsAny.js";
import { tool$evalsContainsEmail } from "./tools/evalsContainsEmail.js";
import { tool$evalsContainsNone } from "./tools/evalsContainsNone.js";
import { tool$evalsContainsUrl } from "./tools/evalsContainsUrl.js";
import { tool$evalsContainsValidLink } from "./tools/evalsContainsValidLink.js";
import { tool$evalsCreate } from "./tools/evalsCreate.js";
import { tool$evalsDelete } from "./tools/evalsDelete.js";
import { tool$evalsEndsWith } from "./tools/evalsEndsWith.js";
import { tool$evalsExactMatch } from "./tools/evalsExactMatch.js";
import { tool$evalsFactCheckingKnowledgeBase } from "./tools/evalsFactCheckingKnowledgeBase.js";
import { tool$evalsGrammar } from "./tools/evalsGrammar.js";
import { tool$evalsInvoke } from "./tools/evalsInvoke.js";
import { tool$evalsLengthBetween } from "./tools/evalsLengthBetween.js";
import { tool$evalsLengthGreaterThan } from "./tools/evalsLengthGreaterThan.js";
import { tool$evalsLengthLessThan } from "./tools/evalsLengthLessThan.js";
import { tool$evalsLocalization } from "./tools/evalsLocalization.js";
import { tool$evalsPii } from "./tools/evalsPii.js";
import { tool$evalsRagasCoherence } from "./tools/evalsRagasCoherence.js";
import { tool$evalsRagasConciseness } from "./tools/evalsRagasConciseness.js";
import { tool$evalsRagasContextEntitiesRecall } from "./tools/evalsRagasContextEntitiesRecall.js";
import { tool$evalsRagasContextPrecision } from "./tools/evalsRagasContextPrecision.js";
import { tool$evalsRagasContextRecall } from "./tools/evalsRagasContextRecall.js";
import { tool$evalsRagasCorrectness } from "./tools/evalsRagasCorrectness.js";
import { tool$evalsRagasFaithfulness } from "./tools/evalsRagasFaithfulness.js";
import { tool$evalsRagasHarmfulness } from "./tools/evalsRagasHarmfulness.js";
import { tool$evalsRagasMaliciousness } from "./tools/evalsRagasMaliciousness.js";
import { tool$evalsRagasNoiseSensitivity } from "./tools/evalsRagasNoiseSensitivity.js";
import { tool$evalsRagasResponseRelevancy } from "./tools/evalsRagasResponseRelevancy.js";
import { tool$evalsRagasSummarization } from "./tools/evalsRagasSummarization.js";
import { tool$evalsSentimentClassification } from "./tools/evalsSentimentClassification.js";
import { tool$evalsSummarization } from "./tools/evalsSummarization.js";
import { tool$evalsToneOfVoice } from "./tools/evalsToneOfVoice.js";
import { tool$evalsTranslation } from "./tools/evalsTranslation.js";
import { tool$evalsUpdate } from "./tools/evalsUpdate.js";
import { tool$evalsValidJson } from "./tools/evalsValidJson.js";
import { tool$feedbackCreate } from "./tools/feedbackCreate.js";
import { tool$filesCreate } from "./tools/filesCreate.js";
import { tool$filesDelete } from "./tools/filesDelete.js";
import { tool$filesGet } from "./tools/filesGet.js";
import { tool$filesList } from "./tools/filesList.js";
import { tool$knowledgeChunkText } from "./tools/knowledgeChunkText.js";
import { tool$knowledgeCreateChunks } from "./tools/knowledgeCreateChunks.js";
import { tool$knowledgeCreateDatasource } from "./tools/knowledgeCreateDatasource.js";
import { tool$knowledgeDelete } from "./tools/knowledgeDelete.js";
import { tool$knowledgeDeleteChunk } from "./tools/knowledgeDeleteChunk.js";
import { tool$knowledgeDeleteDatasource } from "./tools/knowledgeDeleteDatasource.js";
import { tool$knowledgeList } from "./tools/knowledgeList.js";
import { tool$knowledgeListChunks } from "./tools/knowledgeListChunks.js";
import { tool$knowledgeListDatasources } from "./tools/knowledgeListDatasources.js";
import { tool$knowledgeRetrieve } from "./tools/knowledgeRetrieve.js";
import { tool$knowledgeRetrieveChunk } from "./tools/knowledgeRetrieveChunk.js";
import { tool$knowledgeRetrieveDatasource } from "./tools/knowledgeRetrieveDatasource.js";
import { tool$knowledgeSearch } from "./tools/knowledgeSearch.js";
import { tool$knowledgeUpdate } from "./tools/knowledgeUpdate.js";
import { tool$knowledgeUpdateChunk } from "./tools/knowledgeUpdateChunk.js";
import { tool$knowledgeUpdateDatasource } from "./tools/knowledgeUpdateDatasource.js";
import { tool$modelsList } from "./tools/modelsList.js";
import { tool$promptsCreate } from "./tools/promptsCreate.js";
import { tool$promptsDelete } from "./tools/promptsDelete.js";
import { tool$promptsGetVersion } from "./tools/promptsGetVersion.js";
import { tool$promptsList } from "./tools/promptsList.js";
import { tool$promptsListVersions } from "./tools/promptsListVersions.js";
import { tool$promptsRetrieve } from "./tools/promptsRetrieve.js";
import { tool$promptsUpdate } from "./tools/promptsUpdate.js";
import { tool$remoteconfigsRetrieve } from "./tools/remoteconfigsRetrieve.js";

export function createMCPServer(deps: {
  logger: ConsoleLogger;
  allowedTools?: string[] | undefined;
  scopes?: MCPScope[] | undefined;
  serverURL?: string | undefined;
  apiKey?: SDKOptions["apiKey"] | undefined;
  contactId?: SDKOptions["contactId"] | undefined;
  environment?: SDKOptions["environment"] | undefined;
  serverIdx?: SDKOptions["serverIdx"] | undefined;
}) {
  const server = new McpServer({
    name: "Orq",
    version: "3.9.0-rc.8",
  });

  const client = new OrqCore({
    apiKey: deps.apiKey,
    contactId: deps.contactId,
    environment: deps.environment,
    serverURL: deps.serverURL,
    serverIdx: deps.serverIdx,
  });

  const scopes = new Set(deps.scopes);

  const allowedTools = deps.allowedTools && new Set(deps.allowedTools);
  const tool = createRegisterTool(
    deps.logger,
    server,
    client,
    scopes,
    allowedTools,
  );
  const resource = createRegisterResource(deps.logger, server, client, scopes);
  const resourceTemplate = createRegisterResourceTemplate(
    deps.logger,
    server,
    client,
    scopes,
  );
  const prompt = createRegisterPrompt(deps.logger, server, client, scopes);
  const register = { tool, resource, resourceTemplate, prompt };
  void register; // suppress unused warnings

  tool(tool$contactsCreate);
  tool(tool$contactsList);
  tool(tool$contactsRetrieve);
  tool(tool$contactsUpdate);
  tool(tool$contactsDelete);
  tool(tool$feedbackCreate);
  tool(tool$deploymentsList);
  tool(tool$deploymentsGetConfig);
  tool(tool$deploymentsInvoke);
  tool(tool$deploymentsStream);
  tool(tool$filesCreate);
  tool(tool$filesList);
  tool(tool$filesGet);
  tool(tool$filesDelete);
  tool(tool$promptsList);
  tool(tool$promptsCreate);
  tool(tool$promptsRetrieve);
  tool(tool$promptsUpdate);
  tool(tool$promptsDelete);
  tool(tool$promptsListVersions);
  tool(tool$promptsGetVersion);
  tool(tool$remoteconfigsRetrieve);
  tool(tool$modelsList);
  tool(tool$datasetsList);
  tool(tool$datasetsCreate);
  tool(tool$datasetsRetrieve);
  tool(tool$datasetsUpdate);
  tool(tool$datasetsDelete);
  tool(tool$datasetsListDatapoints);
  tool(tool$datasetsCreateDatapoint);
  tool(tool$datasetsRetrieveDatapoint);
  tool(tool$datasetsUpdateDatapoint);
  tool(tool$datasetsDeleteDatapoint);
  tool(tool$datasetsClear);
  tool(tool$knowledgeList);
  tool(tool$knowledgeRetrieve);
  tool(tool$knowledgeUpdate);
  tool(tool$knowledgeDelete);
  tool(tool$knowledgeSearch);
  tool(tool$knowledgeListDatasources);
  tool(tool$knowledgeCreateDatasource);
  tool(tool$knowledgeRetrieveDatasource);
  tool(tool$knowledgeDeleteDatasource);
  tool(tool$knowledgeUpdateDatasource);
  tool(tool$knowledgeCreateChunks);
  tool(tool$knowledgeListChunks);
  tool(tool$knowledgeUpdateChunk);
  tool(tool$knowledgeDeleteChunk);
  tool(tool$knowledgeRetrieveChunk);
  tool(tool$knowledgeChunkText);
  tool(tool$evalsAll);
  tool(tool$evalsCreate);
  tool(tool$evalsUpdate);
  tool(tool$evalsDelete);
  tool(tool$evalsBertScore);
  tool(tool$evalsBleuScore);
  tool(tool$evalsContainsAll);
  tool(tool$evalsContainsAny);
  tool(tool$evalsContainsEmail);
  tool(tool$evalsContainsNone);
  tool(tool$evalsContainsUrl);
  tool(tool$evalsContainsValidLink);
  tool(tool$evalsContains);
  tool(tool$evalsEndsWith);
  tool(tool$evalsExactMatch);
  tool(tool$evalsLengthBetween);
  tool(tool$evalsLengthGreaterThan);
  tool(tool$evalsLengthLessThan);
  tool(tool$evalsValidJson);
  tool(tool$evalsAgeAppropriate);
  tool(tool$evalsBotDetection);
  tool(tool$evalsFactCheckingKnowledgeBase);
  tool(tool$evalsGrammar);
  tool(tool$evalsLocalization);
  tool(tool$evalsPii);
  tool(tool$evalsSentimentClassification);
  tool(tool$evalsSummarization);
  tool(tool$evalsToneOfVoice);
  tool(tool$evalsTranslation);
  tool(tool$evalsRagasCoherence);
  tool(tool$evalsRagasConciseness);
  tool(tool$evalsRagasContextPrecision);
  tool(tool$evalsRagasContextRecall);
  tool(tool$evalsRagasContextEntitiesRecall);
  tool(tool$evalsRagasCorrectness);
  tool(tool$evalsRagasFaithfulness);
  tool(tool$evalsRagasHarmfulness);
  tool(tool$evalsRagasMaliciousness);
  tool(tool$evalsRagasNoiseSensitivity);
  tool(tool$evalsRagasResponseRelevancy);
  tool(tool$evalsRagasSummarization);
  tool(tool$evalsInvoke);
  tool(tool$deploymentsMetricsCreate);

  return server;
}
