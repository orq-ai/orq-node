# InvokeDeploymentRequest

The deployment request payload

## Example Usage

```typescript
import { InvokeDeploymentRequest } from "@orq-ai/node/models/components";

let value: InvokeDeploymentRequest = {
  key: "<key>",
  identity: {
    id: "contact_01ARZ3NDEKTSV4RRFFQ69G5FAV",
    displayName: "Jane Doe",
    email: "jane.doe@example.com",
    metadata: [
      {
        "department": "Engineering",
        "role": "Senior Developer",
      },
    ],
    logoUrl: "https://example.com/avatars/jane-doe.jpg",
    tags: [
      "hr",
      "engineering",
    ],
  },
  documents: [
    {
      text:
        "The refund policy allows customers to return items within 30 days of purchase for a full refund.",
      metadata: {
        fileName: "refund_policy.pdf",
        fileType: "application/pdf",
        pageNumber: 1,
      },
    },
    {
      text: "Premium members receive free shipping on all orders over $50.",
      metadata: {
        fileName: "membership_benefits.md",
        fileType: "text/markdown",
      },
    },
  ],
};
```

## Fields

| Field                                                                                                                                                                                                                                                                                                                                                                                    | Type                                                                                                                                                                                                                                                                                                                                                                                     | Required                                                                                                                                                                                                                                                                                                                                                                                 | Description                                                                                                                                                                                                                                                                                                                                                                              | Example                                                                                                                                                                                                                                                                                                                                                                                  |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `key`                                                                                                                                                                                                                                                                                                                                                                                    | *string*                                                                                                                                                                                                                                                                                                                                                                                 | :heavy_check_mark:                                                                                                                                                                                                                                                                                                                                                                       | The deployment key to invoke                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                                                                                                                                                                                                                                          |
| `stream`                                                                                                                                                                                                                                                                                                                                                                                 | *boolean*                                                                                                                                                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                       | If set, partial message content will be sent. Tokens will be sent as data-only `server-sent events` as they become available, with the stream terminated by a `data: [DONE]` message.                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                          |
| `inputs`                                                                                                                                                                                                                                                                                                                                                                                 | Record<string, *any*>                                                                                                                                                                                                                                                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                       | Key-value pairs variables to replace in your prompts. If a variable is not provided that is defined in the prompt, the default variables are used.                                                                                                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                          |
| `context`                                                                                                                                                                                                                                                                                                                                                                                | Record<string, *any*>                                                                                                                                                                                                                                                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                       | Key-value pairs that match your data model and fields declared in your deployment routing configuration                                                                                                                                                                                                                                                                                  |                                                                                                                                                                                                                                                                                                                                                                                          |
| `prefixMessages`                                                                                                                                                                                                                                                                                                                                                                         | *components.PrefixMessages*[]                                                                                                                                                                                                                                                                                                                                                            | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                       | A list of messages to include after the `System` message, but before the  `User` and `Assistant` pairs configured in your deployment.                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                          |
| `messages`                                                                                                                                                                                                                                                                                                                                                                               | *components.Messages*[]                                                                                                                                                                                                                                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                       | A list of messages to send to the deployment.                                                                                                                                                                                                                                                                                                                                            |                                                                                                                                                                                                                                                                                                                                                                                          |
| `identity`                                                                                                                                                                                                                                                                                                                                                                               | [components.PublicIdentity](../../models/components/publicidentity.md)                                                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                       | Information about the identity making the request. If the identity does not exist, it will be created automatically.                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                          |
| `fileIds`                                                                                                                                                                                                                                                                                                                                                                                | *string*[]                                                                                                                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                       | A list of file IDs that are associated with the deployment request.                                                                                                                                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                          |
| `metadata`                                                                                                                                                                                                                                                                                                                                                                               | Record<string, *any*>                                                                                                                                                                                                                                                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                       | Key-value pairs that you want to attach to the log generated by this request.                                                                                                                                                                                                                                                                                                            |                                                                                                                                                                                                                                                                                                                                                                                          |
| `extraParams`                                                                                                                                                                                                                                                                                                                                                                            | Record<string, *any*>                                                                                                                                                                                                                                                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                       | Utilized for passing additional parameters to the model provider. Exercise caution when using this feature, as the included parameters will overwrite any parameters specified in the deployment prompt configuration.                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                          |
| `documents`                                                                                                                                                                                                                                                                                                                                                                              | [components.Documents](../../models/components/documents.md)[]                                                                                                                                                                                                                                                                                                                           | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                       | A list of documents from your external knowledge base (e.g., chunks retrieved from your own vector database or RAG pipeline) that provide context for the model response. These documents can be used by evaluators and guardrails to assess the relevance and accuracy of the model output against the provided context.                                                                | [<br/>{<br/>"text": "The refund policy allows customers to return items within 30 days of purchase for a full refund.",<br/>"metadata": {<br/>"file_name": "refund_policy.pdf",<br/>"file_type": "application/pdf",<br/>"page_number": 1<br/>}<br/>},<br/>{<br/>"text": "Premium members receive free shipping on all orders over $50.",<br/>"metadata": {<br/>"file_name": "membership_benefits.md",<br/>"file_type": "text/markdown"<br/>}<br/>}<br/>] |
| `invokeOptions`                                                                                                                                                                                                                                                                                                                                                                          | [components.InvokeOptions](../../models/components/invokeoptions.md)                                                                                                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                       | N/A                                                                                                                                                                                                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                          |
| `thread`                                                                                                                                                                                                                                                                                                                                                                                 | [components.Thread](../../models/components/thread.md)                                                                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                       | N/A                                                                                                                                                                                                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                          |
| `knowledgeFilter`                                                                                                                                                                                                                                                                                                                                                                        | *components.KnowledgeFilter*                                                                                                                                                                                                                                                                                                                                                             | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                       | A filter to apply to the knowledge base chunk metadata when using  knowledge bases in the deployment.                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                          |