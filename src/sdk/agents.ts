/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { agentsCreate } from "../funcs/agentsCreate.js";
import { agentsDelete } from "../funcs/agentsDelete.js";
import { agentsInvoke } from "../funcs/agentsInvoke.js";
import { agentsList } from "../funcs/agentsList.js";
import { agentsListActions } from "../funcs/agentsListActions.js";
import { agentsListTasks } from "../funcs/agentsListTasks.js";
import { agentsRetrieve } from "../funcs/agentsRetrieve.js";
import { agentsRetrieveAction } from "../funcs/agentsRetrieveAction.js";
import { agentsRetrieveTask } from "../funcs/agentsRetrieveTask.js";
import { agentsRun } from "../funcs/agentsRun.js";
import { agentsStream } from "../funcs/agentsStream.js";
import { agentsStreamRun } from "../funcs/agentsStreamRun.js";
import { agentsUpdate } from "../funcs/agentsUpdate.js";
import { EventStream } from "../lib/event-streams.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as operations from "../models/operations/index.js";
import { unwrapAsync } from "../types/fp.js";

export class Agents extends ClientSDK {
  /**
   * Retrieve a specific agent task
   *
   * @remarks
   * Retrieves detailed information about a specific task for a given agent, including execution status and results.
   */
  async retrieveTask(
    request: operations.GetAgentTaskRequest,
    options?: RequestOptions,
  ): Promise<operations.GetAgentTaskResponseBody> {
    return unwrapAsync(agentsRetrieveTask(
      this,
      request,
      options,
    ));
  }

  /**
   * Create a new agent
   *
   * @remarks
   * Creates a new AI agent with specified configuration. Agents can be configured with a primary model and an optional fallback model that will be used automatically if the primary model fails.
   */
  async create(
    request?: operations.CreateAgentRequestBody | undefined,
    options?: RequestOptions,
  ): Promise<operations.CreateAgentResponseBody> {
    return unwrapAsync(agentsCreate(
      this,
      request,
      options,
    ));
  }

  /**
   * Delete an agent
   *
   * @remarks
   * Permanently deletes an agent and all its configuration, including primary and fallback model settings.
   */
  async delete(
    request: operations.DeleteAgentRequest,
    options?: RequestOptions,
  ): Promise<void> {
    return unwrapAsync(agentsDelete(
      this,
      request,
      options,
    ));
  }

  /**
   * Get an agent
   *
   * @remarks
   * Retrieves a single agent by its unique key, including its full configuration with primary and fallback model settings.
   */
  async retrieve(
    request: operations.GetAgentRequest,
    options?: RequestOptions,
  ): Promise<operations.GetAgentResponseBody> {
    return unwrapAsync(agentsRetrieve(
      this,
      request,
      options,
    ));
  }

  /**
   * Update an agent
   *
   * @remarks
   * Updates an existing agent's configuration. You can update various fields including the model configuration and fallback model settings.
   */
  async update(
    request: operations.UpdateAgentRequest,
    options?: RequestOptions,
  ): Promise<operations.UpdateAgentResponseBody> {
    return unwrapAsync(agentsUpdate(
      this,
      request,
      options,
    ));
  }

  /**
   * Invoke an agent
   *
   * @remarks
   * Executes an existing agent with the provided input. The agent uses its pre-configured primary model and will automatically fall back to its configured fallback model if the primary model fails. Fallback models are configured at the agent level, not during execution.
   */
  async invoke(
    request: operations.InvokeAgentRequest,
    options?: RequestOptions,
  ): Promise<operations.InvokeAgentResponseBody> {
    return unwrapAsync(agentsInvoke(
      this,
      request,
      options,
    ));
  }

  /**
   * List all tasks for an agent
   *
   * @remarks
   * Retrieves a paginated list of all tasks associated with a specific agent, optionally filtered by status.
   */
  async listTasks(
    request: operations.ListAgentTasksRequest,
    options?: RequestOptions,
  ): Promise<operations.ListAgentTasksResponseBody> {
    return unwrapAsync(agentsListTasks(
      this,
      request,
      options,
    ));
  }

  /**
   * List all agents
   *
   * @remarks
   * Retrieves a paginated list of all agents in your workspace. Each agent includes its configuration, primary model, and optional fallback model settings.
   */
  async list(
    request?: operations.ListAgentsRequest | undefined,
    options?: RequestOptions,
  ): Promise<operations.ListAgentsResponseBody> {
    return unwrapAsync(agentsList(
      this,
      request,
      options,
    ));
  }

  /**
   * Run an agent
   *
   * @remarks
   * Executes an agent with the provided configuration using A2A message format. If the agent already exists with the same configuration, it will be reused. If the configuration differs, a new version is created. The fallback model is configured at the agent level and will be used automatically if the primary model fails during execution.
   */
  async run(
    request?: operations.RunAgentRequestBody | undefined,
    options?: RequestOptions,
  ): Promise<operations.RunAgentResponseBody> {
    return unwrapAsync(agentsRun(
      this,
      request,
      options,
    ));
  }

  /**
   * Run and stream agent execution
   *
   * @remarks
   * Creates or updates an agent with the provided configuration, then streams execution events via Server-Sent Events (SSE). If the agent already exists with the same configuration, it will be reused. If the configuration differs, a new version is created. The stream will continue until the agent completes, errors, or reaches the configured timeout.
   */
  async streamRun(
    request?: operations.StreamRunAgentRequestBody | undefined,
    options?: RequestOptions,
  ): Promise<EventStream<operations.StreamRunAgentResponseBody>> {
    return unwrapAsync(agentsStreamRun(
      this,
      request,
      options,
    ));
  }

  /**
   * Stream agent execution events
   *
   * @remarks
   * Executes an agent and streams events via Server-Sent Events (SSE). The stream will continue until the agent completes, errors, or reaches the configured timeout.
   */
  async stream(
    request: operations.StreamAgentRequest,
    options?: RequestOptions,
  ): Promise<EventStream<operations.StreamAgentResponseBody>> {
    return unwrapAsync(agentsStream(
      this,
      request,
      options,
    ));
  }

  /**
   * List all actions
   */
  async listActions(
    request: operations.ListActionsRequest,
    options?: RequestOptions,
  ): Promise<operations.ListActionsResponseBody> {
    return unwrapAsync(agentsListActions(
      this,
      request,
      options,
    ));
  }

  /**
   * Retrieve an action executed by an agent task.
   */
  async retrieveAction(
    request: operations.RetrieveActionRequest,
    options?: RequestOptions,
  ): Promise<operations.RetrieveActionResponseBody> {
    return unwrapAsync(agentsRetrieveAction(
      this,
      request,
      options,
    ));
  }
}
