/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { agentsRetrieve } from "../../funcs/agentsRetrieve.js";
import { formatResult, ToolDefinition } from "../tools.js";

const args = {
  agentKey: z.string(),
};

export const tool$agentsRetrieve: ToolDefinition<typeof args> = {
  name: "agents-retrieve",
  description: `Retrieve agent

Retrieves detailed information about a specific agent identified by its unique key or identifier. Returns the complete agent manifest including configuration settings, model assignments (primary and fallback), tools, knowledge bases, memory stores, instructions, and execution parameters. Use this endpoint to fetch the current state and configuration of an individual agent.`,
  args,
  tool: async (client, args, ctx) => {
    const [result, apiCall] = await agentsRetrieve(
      client,
      args.agentKey,
      { fetchOptions: { signal: ctx.signal } },
    ).$inspect();

    if (!result.ok) {
      return {
        content: [{ type: "text", text: result.error.message }],
        isError: true,
      };
    }

    const value = result.value;

    return formatResult(value, apiCall);
  },
};
