/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { agentsDelete } from "../../funcs/agentsDelete.js";
import { formatResult, ToolDefinition } from "../tools.js";

const args = {
  agentKey: z.string(),
};

export const tool$agentsDelete: ToolDefinition<typeof args> = {
  name: "agents-delete",
  description: `Delete agent

Permanently removes an agent from the workspace. This operation is irreversible and will delete all associated configuration including model assignments, tools, knowledge bases, memory stores, and cached data. Active agent sessions will be terminated, and the agent key will become available for reuse.`,
  args,
  tool: async (client, args, ctx) => {
    const [result, apiCall] = await agentsDelete(
      client,
      args.agentKey,
      { fetchOptions: { signal: ctx.signal } },
    ).$inspect();

    if (!result.ok) {
      return {
        content: [{ type: "text", text: result.error.message }],
        isError: true,
      };
    }

    return formatResult(void 0, apiCall);
  },
};
