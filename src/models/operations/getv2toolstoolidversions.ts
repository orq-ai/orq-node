/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import { ClosedEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";

export type GetV2ToolsToolIdVersionsRequest = {
  toolId: string;
  /**
   * A limit on the number of objects to be returned. Limit can range between 1 and 50, and the default is 10
   */
  limit?: number | undefined;
  /**
   * A cursor for use in pagination. `starting_after` is an object ID that defines your place in the list. For instance, if you make a list request and receive 20 objects, ending with `01JJ1HDHN79XAS7A01WB3HYSDB`, your subsequent call can include `after=01JJ1HDHN79XAS7A01WB3HYSDB` in order to fetch the next page of the list.
   */
  startingAfter?: string | undefined;
  /**
   * A cursor for use in pagination. `ending_before` is an object ID that defines your place in the list. For instance, if you make a list request and receive 20 objects, starting with `01JJ1HDHN79XAS7A01WB3HYSDB`, your subsequent call can include `before=01JJ1HDHN79XAS7A01WB3HYSDB` in order to fetch the previous page of the list.
   */
  endingBefore?: string | undefined;
};

export const GetV2ToolsToolIdVersionsObject = {
  List: "list",
} as const;
export type GetV2ToolsToolIdVersionsObject = ClosedEnum<
  typeof GetV2ToolsToolIdVersionsObject
>;

export type GetV2ToolsToolIdVersionsData = {
  id: string;
  createdAt: string;
  updatedAt: string;
  createdById?: string | undefined;
  updatedById?: string | undefined;
  version: string;
  description?: string | undefined;
  checksum: string;
  entityType: string;
  entityId: string;
  data: { [k: string]: any };
  workspaceId: string;
};

/**
 * Tool versions retrieved
 */
export type GetV2ToolsToolIdVersionsResponseBody = {
  object: GetV2ToolsToolIdVersionsObject;
  data: Array<GetV2ToolsToolIdVersionsData>;
  hasMore: boolean;
};

/** @internal */
export type GetV2ToolsToolIdVersionsRequest$Outbound = {
  tool_id: string;
  limit: number;
  starting_after?: string | undefined;
  ending_before?: string | undefined;
};

/** @internal */
export const GetV2ToolsToolIdVersionsRequest$outboundSchema: z.ZodType<
  GetV2ToolsToolIdVersionsRequest$Outbound,
  z.ZodTypeDef,
  GetV2ToolsToolIdVersionsRequest
> = z.object({
  toolId: z.string(),
  limit: z.number().default(10),
  startingAfter: z.string().optional(),
  endingBefore: z.string().optional(),
}).transform((v) => {
  return remap$(v, {
    toolId: "tool_id",
    startingAfter: "starting_after",
    endingBefore: "ending_before",
  });
});

export function getV2ToolsToolIdVersionsRequestToJSON(
  getV2ToolsToolIdVersionsRequest: GetV2ToolsToolIdVersionsRequest,
): string {
  return JSON.stringify(
    GetV2ToolsToolIdVersionsRequest$outboundSchema.parse(
      getV2ToolsToolIdVersionsRequest,
    ),
  );
}

/** @internal */
export const GetV2ToolsToolIdVersionsObject$inboundSchema: z.ZodNativeEnum<
  typeof GetV2ToolsToolIdVersionsObject
> = z.nativeEnum(GetV2ToolsToolIdVersionsObject);

/** @internal */
export const GetV2ToolsToolIdVersionsData$inboundSchema: z.ZodType<
  GetV2ToolsToolIdVersionsData,
  z.ZodTypeDef,
  unknown
> = z.object({
  _id: z.string(),
  created_at: z.string(),
  updated_at: z.string(),
  created_by_id: z.string().optional(),
  updated_by_id: z.string().optional(),
  version: z.string(),
  description: z.string().optional(),
  checksum: z.string(),
  entityType: z.string(),
  entityId: z.string(),
  data: z.record(z.any()),
  workspace_id: z.string(),
}).transform((v) => {
  return remap$(v, {
    "_id": "id",
    "created_at": "createdAt",
    "updated_at": "updatedAt",
    "created_by_id": "createdById",
    "updated_by_id": "updatedById",
    "workspace_id": "workspaceId",
  });
});

export function getV2ToolsToolIdVersionsDataFromJSON(
  jsonString: string,
): SafeParseResult<GetV2ToolsToolIdVersionsData, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => GetV2ToolsToolIdVersionsData$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'GetV2ToolsToolIdVersionsData' from JSON`,
  );
}

/** @internal */
export const GetV2ToolsToolIdVersionsResponseBody$inboundSchema: z.ZodType<
  GetV2ToolsToolIdVersionsResponseBody,
  z.ZodTypeDef,
  unknown
> = z.object({
  object: GetV2ToolsToolIdVersionsObject$inboundSchema,
  data: z.array(z.lazy(() => GetV2ToolsToolIdVersionsData$inboundSchema)),
  has_more: z.boolean(),
}).transform((v) => {
  return remap$(v, {
    "has_more": "hasMore",
  });
});

export function getV2ToolsToolIdVersionsResponseBodyFromJSON(
  jsonString: string,
): SafeParseResult<GetV2ToolsToolIdVersionsResponseBody, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) =>
      GetV2ToolsToolIdVersionsResponseBody$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'GetV2ToolsToolIdVersionsResponseBody' from JSON`,
  );
}
