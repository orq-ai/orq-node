/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { safeParse } from "../../lib/schemas.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";
import {
  PartDeltaEvent,
  PartDeltaEvent$inboundSchema,
} from "./partdeltaevent.js";
import { PartDoneEvent, PartDoneEvent$inboundSchema } from "./partdoneevent.js";
import {
  ResponseDoneEvent,
  ResponseDoneEvent$inboundSchema,
} from "./responsedoneevent.js";
import {
  ResponseFailedEvent,
  ResponseFailedEvent$inboundSchema,
} from "./responsefailedevent.js";
import {
  ResponseStartedEvent,
  ResponseStartedEvent$inboundSchema,
} from "./responsestartedevent.js";
import { ToolDoneEvent, ToolDoneEvent$inboundSchema } from "./tooldoneevent.js";
import {
  ToolFailedEvent,
  ToolFailedEvent$inboundSchema,
} from "./toolfailedevent.js";
import {
  ToolReviewDoneEvent,
  ToolReviewDoneEvent$inboundSchema,
} from "./toolreviewdoneevent.js";
import {
  ToolReviewRequestedEvent,
  ToolReviewRequestedEvent$inboundSchema,
} from "./toolreviewrequestedevent.js";
import {
  ToolStartedEvent,
  ToolStartedEvent$inboundSchema,
} from "./toolstartedevent.js";

/**
 * Union of all possible streaming events. Each event has a type field for discrimination.
 */
export type ResponseStreamingEvent =
  | ResponseStartedEvent
  | ResponseDoneEvent
  | ResponseFailedEvent
  | ToolStartedEvent
  | ToolDoneEvent
  | ToolFailedEvent
  | ToolReviewRequestedEvent
  | ToolReviewDoneEvent
  | PartDeltaEvent
  | PartDoneEvent;

/** @internal */
export const ResponseStreamingEvent$inboundSchema: z.ZodType<
  ResponseStreamingEvent,
  z.ZodTypeDef,
  unknown
> = z.union([
  ResponseStartedEvent$inboundSchema,
  ResponseDoneEvent$inboundSchema,
  ResponseFailedEvent$inboundSchema,
  ToolStartedEvent$inboundSchema,
  ToolDoneEvent$inboundSchema,
  ToolFailedEvent$inboundSchema,
  ToolReviewRequestedEvent$inboundSchema,
  ToolReviewDoneEvent$inboundSchema,
  PartDeltaEvent$inboundSchema,
  PartDoneEvent$inboundSchema,
]);

export function responseStreamingEventFromJSON(
  jsonString: string,
): SafeParseResult<ResponseStreamingEvent, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ResponseStreamingEvent$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ResponseStreamingEvent' from JSON`,
  );
}
