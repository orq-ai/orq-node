/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { safeParse } from "../../lib/schemas.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";

export type ToolDoneEventData = {
  /**
   * Unique identifier for the tool in the tool registry
   */
  toolId: string;
  /**
   * Unique identifier matching the tool call that was executed
   */
  toolCallId: string;
  /**
   * The result returned by the tool
   */
  result?: any | undefined;
};

/**
 * Emitted when a tool completes execution successfully. Contains the tool result.
 */
export type ToolDoneEvent = {
  type: "tool.done";
  /**
   * ISO timestamp of when the event occurred
   */
  timestamp: string;
  data: ToolDoneEventData;
};

/** @internal */
export const ToolDoneEventData$inboundSchema: z.ZodType<
  ToolDoneEventData,
  z.ZodTypeDef,
  unknown
> = z.object({
  toolId: z.string(),
  toolCallId: z.string(),
  result: z.any().optional(),
});
/** @internal */
export type ToolDoneEventData$Outbound = {
  toolId: string;
  toolCallId: string;
  result?: any | undefined;
};

/** @internal */
export const ToolDoneEventData$outboundSchema: z.ZodType<
  ToolDoneEventData$Outbound,
  z.ZodTypeDef,
  ToolDoneEventData
> = z.object({
  toolId: z.string(),
  toolCallId: z.string(),
  result: z.any().optional(),
});

export function toolDoneEventDataToJSON(
  toolDoneEventData: ToolDoneEventData,
): string {
  return JSON.stringify(
    ToolDoneEventData$outboundSchema.parse(toolDoneEventData),
  );
}
export function toolDoneEventDataFromJSON(
  jsonString: string,
): SafeParseResult<ToolDoneEventData, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ToolDoneEventData$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ToolDoneEventData' from JSON`,
  );
}

/** @internal */
export const ToolDoneEvent$inboundSchema: z.ZodType<
  ToolDoneEvent,
  z.ZodTypeDef,
  unknown
> = z.object({
  type: z.literal("tool.done"),
  timestamp: z.string(),
  data: z.lazy(() => ToolDoneEventData$inboundSchema),
});
/** @internal */
export type ToolDoneEvent$Outbound = {
  type: "tool.done";
  timestamp: string;
  data: ToolDoneEventData$Outbound;
};

/** @internal */
export const ToolDoneEvent$outboundSchema: z.ZodType<
  ToolDoneEvent$Outbound,
  z.ZodTypeDef,
  ToolDoneEvent
> = z.object({
  type: z.literal("tool.done"),
  timestamp: z.string(),
  data: z.lazy(() => ToolDoneEventData$outboundSchema),
});

export function toolDoneEventToJSON(toolDoneEvent: ToolDoneEvent): string {
  return JSON.stringify(ToolDoneEvent$outboundSchema.parse(toolDoneEvent));
}
export function toolDoneEventFromJSON(
  jsonString: string,
): SafeParseResult<ToolDoneEvent, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ToolDoneEvent$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ToolDoneEvent' from JSON`,
  );
}
